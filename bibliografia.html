<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibliografía - Acompañamiento del Libro</title>
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link href="assets/css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="bi bi-book"></i> Acompañamiento del Libro
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="timeline.html">Línea de Tiempo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="referencias.html">Referencias</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="bibliografia.html">Bibliografía</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="autores.html">Los Autores</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="py-5 mt-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h1 class="display-4 fw-bold mb-3">
                        <i class="bi bi-file-earmark-pdf text-info"></i>
                        Bibliografía Completa
                    </h1>
                    <p class="lead text-muted mb-4">
                        Accede a todos los documentos, artículos académicos y PDFs citados a lo largo del libro
                    </p>
                    <div class="alert alert-info" role="alert">
                        <i class="bi bi-info-circle me-2"></i>
                        <strong>Nota:</strong> Los documentos están organizados por tipo y tema. Haz clic en "Descargar PDF" para acceder a cada archivo.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters and Search Section -->
    <section class="py-4 bg-white border-bottom">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bi bi-search"></i>
                        </span>
                        <input type="text" class="form-control" id="search-bibliografia" 
                               placeholder="Buscar en la bibliografía...">
                    </div>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="filter-type" aria-label="Filtrar por tipo">
                        <option value="all">Todos los tipos</option>
                        <option value="libro">Libros</option>
                        <option value="articulo">Artículos</option>
                        <option value="tesis">Tesis</option>
                        <option value="informe">Informes</option>
                        <option value="web">Recursos Web</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="filter-year" aria-label="Filtrar por año">
                        <option value="all">Todos los años</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                        <option value="2021">2021</option>
                        <option value="2020">2020</option>
                        <option value="older">Anteriores</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Bibliography Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <!-- Sidebar with Categories -->
                <div class="col-lg-3">
                    <div class="bibliografia-nav">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-info text-white">
                                <h6 class="mb-0 fw-bold">
                                    <i class="bi bi-folder"></i> Categorías
                                </h6>
                            </div>
                            <div class="card-body p-0">
                                <nav class="nav nav-pills flex-column p-3">
                                    <a class="nav-link active" href="#" data-category="filosofia" onclick="loadCategory('filosofia', this)">
                                        <i class="bi bi-lightbulb"></i> Filosofía de la Tecnología
                                    </a>
                                    <a class="nav-link" href="#" data-category="ia" onclick="loadCategory('ia', this)">
                                        <i class="bi bi-cpu"></i> Inteligencia Artificial
                                    </a>
                                    <a class="nav-link" href="#" data-category="sociologia" onclick="loadCategory('sociologia', this)">
                                        <i class="bi bi-people"></i> Sociología Digital
                                    </a>
                                    <a class="nav-link" href="#" data-category="etica" onclick="loadCategory('etica', this)">
                                        <i class="bi bi-shield-check"></i> Ética y Privacidad
                                    </a>
                                    <a class="nav-link" href="#" data-category="politicas" onclick="loadCategory('politicas', this)">
                                        <i class="bi bi-globe"></i> Políticas Públicas
                                    </a>
                                    <a class="nav-link" href="#" data-category="otros" onclick="loadCategory('otros', this)">
                                        <i class="bi bi-collection"></i> Otros Recursos
                                    </a>
                                </nav>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="card border-0 shadow-sm mt-3">
                            <div class="card-body text-center">
                                <i class="bi bi-graph-up text-info display-4 mb-2"></i>
                                <h6 class="fw-bold">Estadísticas</h6>
                                <p class="mb-1"><span class="fw-bold text-primary" id="total-documentos">0</span> Documentos totales</p>
                                <p class="mb-0"><span class="fw-bold text-info" id="current-category-docs">0</span> En categoría actual</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-lg-9">
                    <!-- Category Header -->
                    <div class="mb-4">
                        <div class="card border-0 bg-info text-white">
                            <div class="card-body">
                                <h3 class="card-title mb-0" id="category-title">
                                    <i class="bi bi-lightbulb"></i> Filosofía de la Tecnología
                                </h3>
                                <p class="card-text opacity-75 mb-0" id="category-description">
                                    Documentos fundamentales sobre filosofía, epistemología y marcos teóricos
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Loading indicator -->
                    <div id="bibliografia-loading" class="text-center py-5">
                        <div class="spinner-border text-info" role="status">
                            <span class="visually-hidden">Cargando bibliografía...</span>
                        </div>
                        <p class="mt-3 text-muted">Cargando documentos...</p>
                    </div>

                    <!-- Bibliography Items -->
                    <div id="bibliografia-content">
                        <!-- Los documentos se cargan dinámicamente aquí -->
                    </div>

                    <!-- No results message -->
                    <div id="no-results" class="text-center py-5 d-none">
                        <i class="bi bi-file-earmark-x display-1 text-muted"></i>
                        <h5 class="text-muted mt-3">No se encontraron documentos</h5>
                        <p class="text-muted">Intenta con otros términos de búsqueda o filtros</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Download Instructions Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body p-4">
                            <h4 class="fw-bold mb-3">
                                <i class="bi bi-download text-info"></i>
                                Cómo descargar documentos
                            </h4>
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <div class="d-flex">
                                        <i class="bi bi-1-circle-fill text-info me-3 fs-4"></i>
                                        <div>
                                            <h6 class="fw-bold">Busca el documento</h6>
                                            <p class="mb-0 text-muted small">Usa los filtros o el buscador para encontrar el PDF</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="d-flex">
                                        <i class="bi bi-2-circle-fill text-success me-3 fs-4"></i>
                                        <div>
                                            <h6 class="fw-bold">Haz clic en "Descargar"</h6>
                                            <p class="mb-0 text-muted small">El archivo se descargará automáticamente</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="d-flex">
                                        <i class="bi bi-3-circle-fill text-warning me-3 fs-4"></i>
                                        <div>
                                            <h6 class="fw-bold">Abre y estudia</h6>
                                            <p class="mb-0 text-muted small">Todos los PDFs están en la carpeta /pdfs/</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h6 class="fw-bold">Bibliografía Completa</h6>
                    <p class="text-muted mb-0">Documentos académicos y recursos citados</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="index.html" class="btn btn-outline-light btn-sm me-2">
                        <i class="bi bi-house"></i> Inicio
                    </a>
                    <a href="referencias.html" class="btn btn-outline-light btn-sm">
                        <i class="bi bi-journal-bookmark"></i> Referencias
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5.3 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/js/main.js"></script>

    <script>
        // Datos de la bibliografía organizados por categoría
        const bibliografiaData = {
            'filosofia': {
                title: 'Filosofía de la Tecnología',
                description: 'Documentos fundamentales sobre filosofía, epistemología y marcos teóricos',
                documentos: [
                    {
                        tipo: 'libro',
                        titulo: 'La Pregunta por la Técnica',
                        autor: 'Martin Heidegger',
                        año: 2021,
                        editorial: 'Editorial Universitaria',
                        descripcion: 'Ensayo fundamental sobre la esencia de la tecnología moderna y su impacto en el ser.',
                        archivo: 'pdfs/heidegger_pregunta_tecnica.pdf',
                        paginas: 89
                    },
                    {
                        tipo: 'articulo',
                        titulo: 'Technology and the Human Condition',
                        autor: 'Hannah Arendt',
                        año: 2020,
                        revista: 'Journal of Philosophy & Technology',
                        descripcion: 'Análisis crítico de la relación entre tecnología y condición humana.',
                        archivo: 'pdfs/arendt_technology_human_condition.pdf',
                        paginas: 34
                    },
                    {
                        tipo: 'libro',
                        titulo: 'Filosofía de la Información',
                        autor: 'Luciano Floridi',
                        año: 2023,
                        editorial: 'MIT Press',
                        descripcion: 'Marco conceptual para entender la era de la información desde una perspectiva filosófica.',
                        archivo: 'pdfs/floridi_filosofia_informacion.pdf',
                        paginas: 256
                    }
                ]
            },
            'ia': {
                title: 'Inteligencia Artificial',
                description: 'Investigación y desarrollo en IA, machine learning y sistemas inteligentes',
                documentos: [
                    {
                        tipo: 'articulo',
                        titulo: 'Attention Is All You Need',
                        autor: 'Vaswani et al.',
                        año: 2022,
                        revista: 'Nature Machine Intelligence',
                        descripcion: 'Paper seminal que introduce la arquitectura Transformer para modelos de lenguaje.',
                        archivo: 'pdfs/vaswani_attention_transformer.pdf',
                        paginas: 15
                    },
                    {
                        tipo: 'libro',
                        titulo: 'Artificial Intelligence: A Modern Approach',
                        autor: 'Russell & Norvig',
                        año: 2024,
                        editorial: 'Pearson',
                        descripcion: 'Texto fundamental sobre inteligencia artificial y sus aplicaciones.',
                        archivo: 'pdfs/russell_norvig_ai_modern_approach.pdf',
                        paginas: 1152
                    },
                    {
                        tipo: 'tesis',
                        titulo: 'Deep Learning for Natural Language Processing',
                        autor: 'Sofia Chen',
                        año: 2023,
                        universidad: 'Stanford University',
                        descripcion: 'Tesis doctoral sobre aplicaciones de deep learning en procesamiento de lenguaje natural.',
                        archivo: 'pdfs/chen_deep_learning_nlp_thesis.pdf',
                        paginas: 187
                    }
                ]
            },
            'sociologia': {
                title: 'Sociología Digital',
                description: 'Impacto social de la tecnología y transformación digital',
                documentos: [
                    {
                        tipo: 'libro',
                        titulo: 'La Sociedad Red',
                        autor: 'Manuel Castells',
                        año: 2021,
                        editorial: 'Alianza Editorial',
                        descripcion: 'Análisis de la transformación social en la era de la información.',
                        archivo: 'pdfs/castells_sociedad_red.pdf',
                        paginas: 645
                    },
                    {
                        tipo: 'articulo',
                        titulo: 'Digital Divide and Social Inequality',
                        autor: 'Pippa Norris',
                        año: 2022,
                        revista: 'Information Society',
                        descripcion: 'Estudio sobre la brecha digital y sus implicaciones sociales.',
                        archivo: 'pdfs/norris_digital_divide.pdf',
                        paginas: 28
                    }
                ]
            },
            'etica': {
                title: 'Ética y Privacidad',
                description: 'Consideraciones éticas en tecnología, privacidad y derechos digitales',
                documentos: [
                    {
                        tipo: 'libro',
                        titulo: 'The Age of Surveillance Capitalism',
                        autor: 'Shoshana Zuboff',
                        año: 2023,
                        editorial: 'PublicAffairs',
                        descripcion: 'Crítica del capitalismo de vigilancia y sus implicaciones para la privacidad.',
                        archivo: 'pdfs/zuboff_surveillance_capitalism.pdf',
                        paginas: 704
                    },
                    {
                        tipo: 'informe',
                        titulo: 'AI Ethics Guidelines',
                        autor: 'EU High-Level Expert Group on AI',
                        año: 2024,
                        organizacion: 'European Commission',
                        descripcion: 'Directrices éticas para el desarrollo y uso de inteligencia artificial.',
                        archivo: 'pdfs/eu_ai_ethics_guidelines.pdf',
                        paginas: 68
                    }
                ]
            },
            'politicas': {
                title: 'Políticas Públicas',
                description: 'Regulación, gobernanza y políticas tecnológicas',
                documentos: [
                    {
                        tipo: 'informe',
                        titulo: 'Digital Government Strategy 2024',
                        autor: 'OECD',
                        año: 2024,
                        organizacion: 'OECD Publishing',
                        descripcion: 'Estrategias para la implementación de gobierno digital.',
                        archivo: 'pdfs/oecd_digital_government_strategy.pdf',
                        paginas: 156
                    },
                    {
                        tipo: 'articulo',
                        titulo: 'Regulation of Artificial Intelligence',
                        autor: 'Ryan Calo',
                        año: 2023,
                        revista: 'Stanford Technology Law Review',
                        descripcion: 'Marco legal para la regulación de sistemas de IA.',
                        archivo: 'pdfs/calo_ai_regulation.pdf',
                        paginas: 42
                    }
                ]
            },
            'otros': {
                title: 'Otros Recursos',
                description: 'Documentos complementarios y recursos adicionales',
                documentos: [
                    {
                        tipo: 'web',
                        titulo: 'MIT Technology Review Archive',
                        autor: 'MIT Technology Review',
                        año: 2024,
                        url: 'https://www.technologyreview.com',
                        descripcion: 'Archivo de artículos sobre tecnologías emergentes.',
                        archivo: 'pdfs/mit_tech_review_archive.pdf',
                        paginas: 0
                    }
                ]
            }
        };

        let currentCategory = 'filosofia';

        // Cargar categoría
        function loadCategory(category, element) {
            // Actualizar navegación activa
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            element.classList.add('active');

            currentCategory = category;
            const data = bibliografiaData[category];

            // Actualizar título de la categoría
            document.getElementById('category-title').innerHTML = `<i class="bi bi-${getCategoryIcon(category)}"></i> ${data.title}`;
            document.getElementById('category-description').textContent = data.description;

            // Mostrar loading
            document.getElementById('bibliografia-loading').style.display = 'block';
            document.getElementById('bibliografia-content').style.display = 'none';

            // Simular carga
            setTimeout(() => {
                renderDocumentos(data.documentos);
                updateStats();
                document.getElementById('bibliografia-loading').style.display = 'none';
                document.getElementById('bibliografia-content').style.display = 'block';
            }, 500);
        }

        // Obtener icono por categoría
        function getCategoryIcon(category) {
            const icons = {
                'filosofia': 'lightbulb',
                'ia': 'cpu',
                'sociologia': 'people',
                'etica': 'shield-check',
                'politicas': 'globe',
                'otros': 'collection'
            };
            return icons[category] || 'file-earmark';
        }

        // Renderizar documentos
        function renderDocumentos(documentos) {
            const container = document.getElementById('bibliografia-content');
            container.innerHTML = '';

            documentos.forEach((doc, index) => {
                const tipoColor = {
                    'libro': 'primary',
                    'articulo': 'success',
                    'tesis': 'warning',
                    'informe': 'info',
                    'web': 'secondary'
                };

                const card = `
                    <div class="bibliografia-item card fade-in-up mb-4" data-type="${doc.tipo}" data-year="${doc.año}">
                        <div class="card-header bg-transparent border-0 d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-${tipoColor[doc.tipo]} me-2">${doc.tipo.toUpperCase()}</span>
                                <small class="text-muted">${doc.año}</small>
                            </div>
                            <div class="document-size">
                                <i class="bi bi-file-earmark-pdf text-danger me-1"></i>
                                <small class="text-muted">${doc.paginas > 0 ? doc.paginas + ' págs.' : 'Recurso web'}</small>
                            </div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">${doc.titulo}</h5>
                            <h6 class="text-primary mb-2">${doc.autor}</h6>
                            <p class="card-text text-muted mb-3">${doc.descripcion}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="publication-info">
                                    <small class="text-muted">
                                        ${doc.editorial ? `<i class="bi bi-building"></i> ${doc.editorial}` : ''}
                                        ${doc.revista ? `<i class="bi bi-journal"></i> ${doc.revista}` : ''}
                                        ${doc.universidad ? `<i class="bi bi-mortarboard"></i> ${doc.universidad}` : ''}
                                        ${doc.organizacion ? `<i class="bi bi-institution"></i> ${doc.organizacion}` : ''}
                                    </small>
                                </div>
                                <div class="document-actions">
                                    <a href="${doc.archivo}" class="btn btn-outline-danger me-2" download>
                                        <i class="bi bi-download"></i> Descargar PDF
                                    </a>
                                    <button class="btn btn-outline-secondary" onclick="copyReference('${doc.titulo}', '${doc.autor}', ${doc.año})">
                                        <i class="bi bi-clipboard"></i> Citar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += card;
            });
        }

        // Actualizar estadísticas
        function updateStats() {
            const totalDocs = Object.values(bibliografiaData).reduce((total, category) => total + category.documentos.length, 0);
            const currentDocs = bibliografiaData[currentCategory].documentos.length;
            
            document.getElementById('total-documentos').textContent = totalDocs;
            document.getElementById('current-category-docs').textContent = currentDocs;
        }

        // Copiar referencia bibliográfica
        function copyReference(titulo, autor, año) {
            const referencia = `${autor} (${año}). ${titulo}.`;
            navigator.clipboard.writeText(referencia).then(() => {
                utils.showToast('Referencia copiada al portapapeles', 'success');
            });
        }

        // Búsqueda y filtros
        function setupFilters() {
            // Búsqueda
            document.getElementById('search-bibliografia').addEventListener('input', function(e) {
                filterDocuments();
            });

            // Filtro por tipo
            document.getElementById('filter-type').addEventListener('change', function(e) {
                filterDocuments();
            });

            // Filtro por año
            document.getElementById('filter-year').addEventListener('change', function(e) {
                filterDocuments();
            });
        }

        function filterDocuments() {
            const searchTerm = document.getElementById('search-bibliografia').value.toLowerCase();
            const typeFilter = document.getElementById('filter-type').value;
            const yearFilter = document.getElementById('filter-year').value;
            const items = document.querySelectorAll('.bibliografia-item');
            let visibleCount = 0;

            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                const type = item.dataset.type;
                const year = parseInt(item.dataset.year);

                let showItem = true;

                // Filtro de búsqueda
                if (searchTerm && !text.includes(searchTerm)) {
                    showItem = false;
                }

                // Filtro por tipo
                if (typeFilter !== 'all' && type !== typeFilter) {
                    showItem = false;
                }

                // Filtro por año
                if (yearFilter !== 'all') {
                    if (yearFilter === 'older' && year >= 2020) {
                        showItem = false;
                    } else if (yearFilter !== 'older' && year !== parseInt(yearFilter)) {
                        showItem = false;
                    }
                }

                if (showItem) {
                    item.style.display = 'block';
                    visibleCount++;
                } else {
                    item.style.display = 'none';
                }
            });

            document.getElementById('no-results').classList.toggle('d-none', visibleCount > 0);
        }

        // Inicializar página
        document.addEventListener('DOMContentLoaded', function() {
            loadCategory('filosofia', document.querySelector('[data-category="filosofia"]'));
            setupFilters();
        });
    </script>
</body>
</html>
